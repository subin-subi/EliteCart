<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Wallet</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">

  <!-- Navbar -->
  <%- include("../partials/nav") %>

  <!-- Page Container -->
  <div class="flex flex-col md:flex-row gap-6 px-6 md:px-16 py-10">

    <!-- Sidebar -->
    <div class="w-full md:w-64">
      <%- include("../partials/userSidebar") %>
    </div>

    <!-- Wallet Section -->
   <div class="flex-1 bg-[#ffffff] text-white p-6 rounded-2xl shadow-md border border-gray-800 mt-12">

      
      <!-- Header -->
      <h2 class="text-2xl font-bold mb-2 text-[#ffcc00]">My Wallet</h2>

      <!-- Current Balance -->
      <div class="bg-gray-900 border border-gray-700 rounded-xl p-4 mb-6 flex justify-between items-center">
        <span class="text-lg font-semibold">Current Balance</span>
        <span class="text-2xl font-bold text-green-400">₹ <%= walletBalance %></span>
      </div>

      <!-- Transaction History -->
      <h3 class="text-xl font-semibold mb-3">Transaction History</h3>

   <div class="overflow-x-auto mt-6">
  <table class="min-w-full border border-gray-700 rounded-xl overflow-hidden text-sm text-gray-200">
    <!-- Table Header -->
    <thead class="bg-gray-900 text-white">
      <tr class="text-left">
        <th class="py-3 px-4 border-b border-gray-700 font-semibold">Date</th>
        <th class="py-3 px-4 border-b border-gray-700 font-semibold">Type</th>
        <th class="py-3 px-4 border-b border-gray-700 font-semibold">Amount</th>
        <th class="py-3 px-4 border-b border-gray-700 font-semibold">Description</th>
      </tr>
    </thead>

    <!-- Table Body -->
    <tbody>
      <% if (transactions && transactions.length > 0) { %>
        <% transactions.forEach(t => { %>
          <tr class="hover:bg-gray-800 transition border-b border-gray-700">
            <td class="py-3 px-4 border-r border-gray-700">
              <%= new Date(t.date).toLocaleString('en-IN', { dateStyle: 'medium', timeStyle: 'short' }) %>
            </td>
            <td class="py-3 px-4 border-r border-gray-700">
              <% if (t.type === 'Credit') { %>
                <span class="bg-green-700/80 text-white px-3 py-1 rounded-full text-xs font-semibold">
                  <%= t.type %>
                </span>
              <% } else { %>
                <span class="bg-red-700/80 text-white px-3 py-1 rounded-full text-xs font-semibold">
                  <%= t.type %>
                </span>
              <% } %>
            </td>
            <td class="py-3 px-4 border-r border-gray-700 font-semibold text-green-400">
              ₹ <%= t.amount.toFixed(2) %>
            </td>
            <td class="py-3 px-4 text-gray-300">
              <%= t.description || "—" %>
            </td>
          </tr>
        <% }) %>
      <% } else { %>
        <tr>
          <td colspan="4" class="text-center py-6 text-gray-500 border-t border-gray-700">
            No transactions found
          </td>
        </tr>
      <% } %>
    </tbody>
  </table>
</div>


    
 
    </div>
  </div>

  <!-- Footer -->
  <%- include("../partials/footer") %>

</body>
</html>
