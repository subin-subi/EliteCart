<aside class="col-span-12 md:col-span-3">
  <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-5 sticky top-20">
    <h3 class="text-sm tracking-widest text-gray-400 mb-4">Filters</h3>

    <!-- Sort -->
    <div class="mb-6">
      <label for="sortFilter" class="block text-xs font-medium text-gray-500 mb-2">Sort By</label>
      <select id="sortFilter" class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-gray-900 text-sm">
        <option value="default">Default</option>
        <option value="priceLowToHigh">Price: Low to High</option>
        <option value="priceHighToLow">Price: High to Low</option>
        <option value="newArrivals">New Arrivals</option>
      </select>
    </div>

    <!-- Category -->
    <div class="mb-6">
      <label for="category" class="block text-xs font-medium text-gray-500 mb-2">Category</label>
      <select id="category" class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-gray-900 text-sm">
        <option value="">All</option>
        <% if (categories && categories.length > 0) { %>
          <% categories.forEach(function(cat) { %>
            <option value="<%= cat._id %>" <%= (filters && filters.category === String(cat._id)) ? 'selected' : '' %>><%= cat.name %></option>
          <% }) %>
        <% } else { %>
          <option value="" disabled>No categories available</option>
        <% } %>
      </select>
    </div>

    <!-- Brand -->
    <div class="mb-6">
      <label for="brand" class="block text-xs font-medium text-gray-500 mb-2">Brand</label>
      <select id="brand" class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-gray-900 text-sm">
        <option value="">All</option>
        <% if (brands && brands.length > 0) { %>
          <% brands.forEach(function(b) { %>
            <option value="<%= b._id %>" <%= (filters && filters.brand === String(b._id)) ? 'selected' : '' %>><%= b.name %></option>
          <% }) %>
        <% } %>
      </select>
    </div>

    <!-- Price -->
    <div class="mb-6">
      <span class="block text-xs font-medium text-gray-500 mb-2">Price Range</span>
      <div class="flex items-center gap-3">
        <input type="number" id="minPrice" placeholder="Min" value="<%= (filters && filters.minPrice) ? filters.minPrice : '' %>" class="w-1/2 rounded-lg border-gray-300 focus:ring-2 focus:ring-gray-900 text-sm" />
        <span class="text-gray-400">â€”</span>
        <input type="number" id="maxPrice" placeholder="Max" value="<%= (filters && filters.maxPrice) ? filters.maxPrice : '' %>" class="w-1/2 rounded-lg border-gray-300 focus:ring-2 focus:ring-gray-900 text-sm" />
      </div>
    </div>

    <!-- Stock -->
    <div class="mb-6">
      <label for="stockFilter" class="block text-xs font-medium text-gray-500 mb-2">Stock Status</label>
      <select id="stockFilter" class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-gray-900 text-sm">
        <option value="" <%= (filters && !filters.stock) ? 'selected' : '' %>>All Products</option>
        <option value="inStock" <%= (filters && filters.stock === 'inStock') ? 'selected' : '' %>>In Stock</option>
        <option value="outOfStock" <%= (filters && filters.stock === 'outOfStock') ? 'selected' : '' %>>Out of Stock</option>
      </select>
    </div>

    <!-- Actions -->
    <div class="flex items-center gap-3">
      <button type="button" id="filterButton" class="flex-1 bg-gray-900 text-white text-sm px-4 py-2 rounded-lg hover:bg-gray-800">Apply</button>
      <button id="resetButton" class="flex-1 text-sm px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100">Reset</button>
    </div>
  </div>
</aside>
