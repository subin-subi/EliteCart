<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELITECART</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body class="bg-gray-100">
<!-- Navbar -->
<div class="fixed z-50 top-0 w-screen h-14 sm:h-16 flex items-center justify-between px-6 bg-white border-b-2 border-blue-500">
    
    <!-- Left: Logo/Brand -->
    <div class="flex items-center space-x-2">
        <span class="text-2xl font-bold font-serif">Elite Cart</span>
    </div>

    <!-- Center: Nav Links -->
    <nav class="hidden md:flex items-center space-x-6 text-sm text-gray-800 font-medium">
        <a href="/home" class="hover:text-gray-500 transition">Home</a>
        <a href="/product" class="hover:text-gray-500 transition">Shop</a>
        <a href="/contact" class="hover:text-gray-500 transition">Contact us</a>
        <a href="/about" class="hover:text-gray-500 transition">About</a>
    </nav>

    <!-- Right: Icons + Auth Buttons -->
    <div class="flex items-center space-x-6">
        <!-- Icons (Clickable, linked) -->
        <div class="hidden sm:flex items-center space-x-6 text-gray-700 text-lg">
            <a href="/wishlist" class="hover:text-gray-500">
                <i class="fa-regular fa-heart"></i>
            </a>
            <a href="/profile" class="hover:text-gray-500">
                <i class="fa-regular fa-user"></i>
            </a>
            <a href="/cart" class="hover:text-gray-500">
                <i class="fa-solid fa-cart-shopping"></i>
            </a>
        </div>

        <!-- Auth Buttons (unchanged) -->
        <div class="flex items-center space-x-3" id="authButtons">
            <a href="/login" class="text-sm font-semibold text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 px-4 py-2 rounded-lg shadow-md transition-all flex items-center space-x-2">
                <i class="fa-solid fa-sign-in-alt"></i>
                <span>Login</span>
            </a>
            <a href="/signup" class="text-sm font-semibold text-white bg-gradient-to-r from-emerald-500 to-emerald-700 hover:from-emerald-600 hover:to-emerald-800 px-4 py-2 rounded-lg shadow-lg transition-all flex items-center space-x-2">
                <i class="fa-solid fa-user-plus"></i>
                <span>Sign Up</span>
            </a>
        </div>
    </div>
</div>


    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden lg:hidden z-40">
        <div class="fixed top-14 left-0 w-full max-w-sm bg-white border-r border-gray-200 h-screen p-4 transform transition-transform">
            <nav class="flex flex-col space-y-2">
                <a href="/home" class="p-3 text-sm font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors"><i class="fa-solid fa-home mr-2"></i>Home</a>
                <a href="/shop" class="p-3 text-sm font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors"><i class="fa-solid fa-store mr-2"></i>Shop</a>
                <a href="/contact" class="p-3 text-sm font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors"><i class="fa-solid fa-envelope mr-2"></i>Contact</a>
                <a href="/about" class="p-3 text-sm font-medium text-gray-900 hover:bg-gray-50 rounded-lg transition-colors"><i class="fa-solid fa-info-circle mr-2"></i>About</a>
            </nav>
        </div>
    </div>

    <!-- Script -->
    <script>
     document.addEventListener("DOMContentLoaded", async function () {
    try {
        const response = await fetch('/check-session');
        const data = await response.json();

        if (data.isLoggedIn) {
            document.getElementById("authButtons").style.display = "none";
            document.getElementById("logoutButton").style.display = "flex";
        } else {
            document.getElementById("authButtons").style.display = "flex";
            document.getElementById("logoutButton").style.display = "none";
        }
    } catch (error) {
        console.error("Session check error:", error);
    }

    // Handle logout click
    const logoutBtn = document.getElementById("logoutButton");
    logoutBtn.addEventListener("click", async () => {
        try {
            await fetch('/logout', { method: 'POST' }); // or GET, depending on your server
            window.location.reload(); // or redirect to login
        } catch (error) {
            console.error("Logout failed:", error);
        }
    });
});

        // Mobile Menu Toggle
        const menuToggle = document.getElementById("menu-toggle");
        const mobileMenu = document.getElementById("mobile-menu");

        mobileMenu.addEventListener("click", (event) => {
            if (event.target === mobileMenu) {
                mobileMenu.classList.add("hidden");
            }
        });
    </script>

</body>

</html>
